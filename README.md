# Microservice Gradient Boosting API

## Описание
Этот проект — простой микросервис на основе Flask, который предоставляет API для работы с моделью машинного обучения (Gradient Boosting). Модель обучена на наборе данных iris и использует метод градиентного бустинга для предсказаний. Данные и предсказания сохраняются в базе данных MySQL.

### Основные компоненты
- **Flask API** для предоставления доступа к модели.
- **MySQL** для хранения данных и предсказаний.
- **Docker** для контейнеризации приложения и всех зависимостей.

## Структура проекта
- **app/**: содержит код приложения Flask.
  - `app.py`: основной код API, включающий маршруты для предсказаний.
  - `train_model.py`: скрипт для обучения модели и сохранения её в файл `model.pkl`.
  - `requirements.txt`: список зависимостей для установки.
  - `Dockerfile`: описание контейнера для Flask API.
- **db/**: содержит SQL-скрипты и файлы для инициализации базы данных.
- **docker-compose.yml**: конфигурация для запуска всего микросервиса (Flask API + MySQL).

## Установка и запуск

### Шаги для запуска
1. Клонируйте репозиторий и перейдите в папку проекта.
2. Запустите контейнеры с помощью Docker Compose:

   ```bash
   docker-compose up --build
   ```
3. После запуска, Flask API будет доступен на http://localhost:5000.

Пример использования
Чтобы отправить запрос на предсказание, можно использовать curl или любой другой HTTP-клиент, такой как Postman.

Пример запроса с curl:

```bash
curl -X POST -H "Content-Type: application/json" -d "{\"features\": [5.1, 3.5, 1.4, 0.2]}" http://localhost:5000/predict
```

Ответ:
Пример ответа на запрос предсказания:

```bash
{
  "prediction": 0,
  "probability": [0.85, 0.1, 0.05]
}
```

